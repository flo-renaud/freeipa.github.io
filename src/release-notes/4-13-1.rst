FreeIPA 4.13.1
==============

.. raw:: mediawiki

   {{ReleaseDate|2026-01-15}}

The FreeIPA team would like to announce FreeIPA 4.13.1 release!

It can be downloaded from http://www.freeipa.org/page/Downloads. Builds
for Fedora distributions will be available from the official repository
soon.

.. _highlights_in_4.13.1:

Highlights in 4.13.1
--------------------

-  9839: [RFE] Allow ipa-certupdate to force specific server to get
   updates from

   ipa-certupdate now provides the option --force-server SERVER.FQDN that can
   be used for disaster recovery or situation with replication issues, when
   only one server is fixed/working and is a source of truth about CA certs
   for all the other replicas and clients.

- 9895:  Memory leaks in IPA plugins

  Multiple memory leaks have been fixed across various IPA plugins.

--------------

Enhancements
~~~~~~~~~~~~

.. _known_issues:

Known Issues
~~~~~~~~~~~~

.. _bug_fixes:

Bug fixes
~~~~~~~~~

FreeIPA 4.13.1 is a stabilization release for the features delivered as
a part of 4.13 version series.

There are more than 10 bug-fixes since FreeIPA 4.13.0 release. Details
of the bug-fixes can be seen in the list of resolved tickets below.

Upgrading
---------

Upgrade instructions are available on
`Upgrade <https://www.freeipa.org/page/Upgrade>`__ page.

Feedback
--------

Please provide comments, bugs and other feedback via the freeipa-users
mailing list
(https://lists.fedoraproject.org/archives/list/freeipa-users@lists.fedorahosted.org/)
or #freeipa channel on libera.chat.

.. _resolved_tickets:

Resolved tickets
----------------

-  `#9839 <https://pagure.io/freeipa/issue/9839>`__ [RFE] Allow
   ipa-certupdate to force specific server to get updates from
-  `#9842 <https://pagure.io/freeipa/issue/9842>`__ Add ability to
   configure external password reset agents with ipa_pwd_extop
-  `#9876 <https://pagure.io/freeipa/issue/9876>`__ Incorrect exception
   type in remove_edge()
-  `#9884 <https://pagure.io/freeipa/issue/9884>`__
   test_integration/test_ipa_ipa_migration.py::TestIPAMigrationProdMode
   fails in local setup
-  `#9891 <https://pagure.io/freeipa/issue/9891>`__ Incorrect error type
   when user logs in multiple times with wrong password
-  `#9892 <https://pagure.io/freeipa/issue/9892>`__ After upgrade from
   9.7 to 9.8 ipactl restart fails to restart winbind service
-  `#9895 <https://pagure.io/freeipa/issue/9895>`__ Memory leaks in IPA
   plugins
-  `#9902 <https://pagure.io/freeipa/issue/9902>`__ Nightly test failure
   in test_installation.py::TestInstallWithCA_DNS4::test_number_of_zones
-  `#9910 <https://pagure.io/freeipa/issue/9910>`__ Test failure in
   TestIPAMigratewithBackupRestore::test_ipa_migrate_stage_mode
-  `#9913 <https://pagure.io/freeipa/issue/9913>`__ Upgrade from RHEL
   9.4 to 9.6+ breaks ipa-dnskeysyncd
-  `#9914 <https://pagure.io/freeipa/issue/9914>`__ AddressSanitizer:
   SEGV ipa-pwd-extop/common.c:584 in ipapwd_gen_checks
-  `#9915 <https://pagure.io/freeipa/issue/9915>`__ Support replaceable
   artwork for modern-ui

.. _detailed_changelog_since_4.13.0:

Detailed changelog since 4.13.0
-------------------------------

.. _mohammad_sami_1:

MOHAMMAD SAMI (1)
~~~~~~~~~~~~~~~~~

-  Fix incorrect error handling in ipapython/graph.py
   `commit <https://pagure.io/freeipa/c/f094818347d48606e186e8ad9c6d05ce74c04560>`__
   `#9876 <https://pagure.io/freeipa/issue/9876>`__

.. _anuja_more_2:

Anuja More (2)
~~~~~~~~~~~~~~

-  ipatests: sysaccounts: add missing integration/webui/xmlrpc tests
   `commit <https://pagure.io/freeipa/c/386e9f37af484fc018b174ffcbe5f2e59a783cb4>`__
   `#9842 <https://pagure.io/freeipa/issue/9842>`__
-  sysaccount_mod: Use object.\__setattr\_\_ to set allow_empty_update
   in exception handler
   `commit <https://pagure.io/freeipa/c/f580f12e5bcace2dbbee493f093bd62937cc2e3a>`__

.. _antonio_torres_1:

Antonio Torres (1)
~~~~~~~~~~~~~~~~~~

-  Back to git snapshots
   `commit <https://pagure.io/freeipa/c/a4617fb04bfb5f5520d52018ee1500d8c86a5776>`__

.. _aleksandr_sharov_1:

Aleksandr Sharov (1)
~~~~~~~~~~~~~~~~~~~~

-  Adding option --force-server to specify a server to ipa-certupdate
   tool.
   `commit <https://pagure.io/freeipa/c/573c9194d9894eb2bea6db77e142cdd899e78bd6>`__
   `#9839 <https://pagure.io/freeipa/issue/9839>`__

.. _carla_martinez_1:

Carla Martinez (1)
~~~~~~~~~~~~~~~~~~

-  Fix: Incorrect auth error message
   `commit <https://pagure.io/freeipa/c/f39acce91176c043dd531646a2acd0b7678779e2>`__
   `#9891 <https://pagure.io/freeipa/issue/9891>`__

.. _david_hanina_2:

David Hanina (2)
~~~~~~~~~~~~~~~~

-  Update webui to v.0.1.9
   `commit <https://pagure.io/freeipa/c/250ab5412cc51ed20b9bbd647bb4e8c6c8ed927f>`__
-  Delete modern-ui images for RHEL
   `commit <https://pagure.io/freeipa/c/ffde59d26020381ffe61da30d20af3d20f7550d3>`__
   `#9915 <https://pagure.io/freeipa/issue/9915>`__

.. _florence_blanc_renaud_6:

Florence Blanc-Renaud (6)
~~~~~~~~~~~~~~~~~~~~~~~~~

-  ipa-migrate: avoid KeyError before attributes are normalized
   `commit <https://pagure.io/freeipa/c/9b09e9b7240ccedca60e812ed1b2337ed476e471>`__
   `#9910 <https://pagure.io/freeipa/issue/9910>`__
-  Upgrade: use openssl_engine on rhel9
   `commit <https://pagure.io/freeipa/c/6ddd9d978ac1d70acf688667515f916ee4373c42>`__
   `#9913 <https://pagure.io/freeipa/issue/9913>`__
-  ipatests: do not allow zone overlap for TestInstallWithCA_DNS4
   `commit <https://pagure.io/freeipa/c/b5458214311abc3ee1fae7133487fb1ad6977011>`__
   `#9902 <https://pagure.io/freeipa/issue/9902>`__
-  ipatest: add an integration test for samba upgrade
   `commit <https://pagure.io/freeipa/c/c03f7eb2b9a0ee36d0ad396f3e4e4e8a6e40ecd2>`__
   `#9892 <https://pagure.io/freeipa/issue/9892>`__
-  Trust: fix tdo with WITH_FOREST
   `commit <https://pagure.io/freeipa/c/6f0cd075e5a588628a98d3b4a95e755af59845d7>`__
   `#9892 <https://pagure.io/freeipa/issue/9892>`__
-  Nightly test definitions: configure 4.13 branch
   `commit <https://pagure.io/freeipa/c/b575e3dc39b84af69fd71ddb77c01fe4b24a2d66>`__

.. _mohammad_rizwan_1:

Mohammad Rizwan (1)
~~~~~~~~~~~~~~~~~~~

-  ipatests: allow dns zone overlap where dns is handled externaly
   `commit <https://pagure.io/freeipa/c/381e00e5db1542fe887324729c042b04fb5d4470>`__

.. _pranav_thube_2:

PRANAV THUBE (2)
~~~~~~~~~~~~~~~~

-  ipatests: Refactor and port hbac functional tests.
   `commit <https://pagure.io/freeipa/c/fdfce9ac5239e0296b0bd86030028cecf1f92bfa>`__
-  Extended eDNS testsuite with Enforced DNS policy testcases.
   `commit <https://pagure.io/freeipa/c/c8c71922255095e67f48cb06e8d27472b175ee51>`__

.. _rob_crittenden_2:

Rob Crittenden (2)
~~~~~~~~~~~~~~~~~~

-  ipa-pwd-extop: Don't manipulate the config if not retrieved
   `commit <https://pagure.io/freeipa/c/d6f7c0b14c7211b603b47e8fe3851ba0197ed38c>`__
   `#9914 <https://pagure.io/freeipa/issue/9914>`__
-  ipatests: Add the remote IP before running ipa-migrate
   `commit <https://pagure.io/freeipa/c/f28c8a2bc39e44b1ec5883fe828625e5a5575adb>`__
   `#9884 <https://pagure.io/freeipa/issue/9884>`__

.. _viktor_ashirov_17:

Viktor Ashirov (17)
~~~~~~~~~~~~~~~~~~~

-  ipa-pwd-extop: fix valueset memory leak in \`ipapwd_get_cur_kvno()\`
   `commit <https://pagure.io/freeipa/c/edc00aae575399a6c11f7b9d1ca5bbd833459274>`__
   `#9895 <https://pagure.io/freeipa/issue/9895>`__
-  ipa-pwd-extop: fix memory leaks in \`ipapwd_gen_hashes()\` error path
   `commit <https://pagure.io/freeipa/c/614b3cdc872427e632870413b8f44d6ba1373cc8>`__
   `#9895 <https://pagure.io/freeipa/issue/9895>`__
-  ipa-pwd-extop: fix password history values memory leak
   `commit <https://pagure.io/freeipa/c/370cdf03572463688445cece88bacbc8b797cc5d>`__
   `#9895 <https://pagure.io/freeipa/issue/9895>`__
-  ipa-pwd-extop: fix NT hash string memory leak
   `commit <https://pagure.io/freeipa/c/f5e47c974b4e5fa32e9a00db89df16bee2fd3f84>`__
   `#9895 <https://pagure.io/freeipa/issue/9895>`__
-  ipa-pwd-extop: fix bind DN memory leaks in pre-op handlers
   `commit <https://pagure.io/freeipa/c/1545c3fd7dc9c5765dcdf83bbb591c46eb489de3>`__
   `#9895 <https://pagure.io/freeipa/issue/9895>`__
-  ipa-pwd-extop: fix memory leaks in \`ipapwd_pre_add()\`
   `commit <https://pagure.io/freeipa/c/28979893e620a033878405b9edeaa4bca730f9fc>`__
   `#9895 <https://pagure.io/freeipa/issue/9895>`__
-  ipa-pwd-extop: fix memory leaks of bind DN
   `commit <https://pagure.io/freeipa/c/1a7819b2c6145f8686771cf305a43589b5028c51>`__
   `#9895 <https://pagure.io/freeipa/issue/9895>`__
-  ipa-pwd-extop: fix memory leaks
   `commit <https://pagure.io/freeipa/c/8eeccb6dba8861731a786dd1b115a1eac6c1d98d>`__
   `#9895 <https://pagure.io/freeipa/issue/9895>`__
-  ipa-pwd-extop: free krbcfg in all exit paths
   `commit <https://pagure.io/freeipa/c/ba9074c9605bed6466580c10657fc7b1341aacbf>`__
   `#9895 <https://pagure.io/freeipa/issue/9895>`__
-  topology: fix memory leaks
   `commit <https://pagure.io/freeipa/c/61bc55c9c3951f7653b6d63be512c654650ffd77>`__
   `#9895 <https://pagure.io/freeipa/issue/9895>`__
-  ipa-enrollment: fix memory leaks
   `commit <https://pagure.io/freeipa/c/bfc9552d565dc2bb452ae79e2bc972b419e81cad>`__
   `#9895 <https://pagure.io/freeipa/issue/9895>`__
-  ipa-extdom-extop: fix memory leaks
   `commit <https://pagure.io/freeipa/c/4a62d6141af54b77408628877a1027c3ea5a106f>`__
   `#9895 <https://pagure.io/freeipa/issue/9895>`__
-  ipa-range-check: fix memory leak
   `commit <https://pagure.io/freeipa/c/0e409d1955d4e2248b05310962671e1f9c8a069e>`__
   `#9895 <https://pagure.io/freeipa/issue/9895>`__
-  ipa-sidgen: fix memory leaks
   `commit <https://pagure.io/freeipa/c/67ea4467eca5fdb6df9b267445cee41dc5d8691e>`__
   `#9895 <https://pagure.io/freeipa/issue/9895>`__
-  ipa-pwd-extop: fix memory leaks
   `commit <https://pagure.io/freeipa/c/29699af133ce7c9e1570376c978d4ecce217825f>`__
   `#9895 <https://pagure.io/freeipa/issue/9895>`__
-  ipa-lockout: fix memory leaks
   `commit <https://pagure.io/freeipa/c/819fddc3d201e5764538878c78ddf3da7c8c0326>`__
   `#9895 <https://pagure.io/freeipa/issue/9895>`__
-  ipa-graceperiod: fix memory leaks
   `commit <https://pagure.io/freeipa/c/c173a70c8581bf25e063766039f0ea875c8f5691>`__
   `#9895 <https://pagure.io/freeipa/issue/9895>`__
